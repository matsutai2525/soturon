\section{作成した教材について}

\subsection{対象とする学習者}
本学において, 発展的なアルゴリズムの講義が行われるのは2年次後期である4Sからである. 
本学においては, 2年次の前期までにC言語を利用したプログラミング演習の講義が行われており, アルゴリズムの学習者はプログラミングにおける基礎的な構文である標準入出力やループ, 条件分岐などについてある程度理解していると考えられる. 

よって, 本教材の対象とする学習者は, プログラミング言語に対する最低限の知識を有し, アルゴリズムに関する知識をあまり持たない者とした. 

\subsection{目的とする利用方法}
本教材は, 講義においてプログラミングを行う機会が少ない点を解消することを目的としている. 
よって, 講義においてダイクストラ法などの類似アルゴリズムや動的計画法を扱う場合や, 講義内でプログラミングを行う機会がない場合の自習や課題での利用を目的としている. 

\subsection{到達目標}
本教材の利用による到達目標として, アルゴリズムの考え方や実装方法がある程度わかり, 問題を見た際に学習したアルゴリズムが利用できるかどうかを考えることができるようことを目標としている. 

アルゴリズムを利用した実装を行う際に必要となるのは, 問題に合わせたアルゴリズムを考えることであり, データ構造と利用するアルゴリズムが分かれば検索等を利用することによりアルゴリズムの実装は容易であることが多い. 
そのため, どのような場合に利用できるのか, という点への理解を重視している. 

\clearpage

\subsection{題材としたアルゴリズム}

初学者を対象とした教材であることから, 題材とするアルゴリズムは処理の流れが理解しやすく, 今後学習する様々なアルゴリズムを理解する上で土台となるようなものが望ましい. 

動的計画法はデータ処理において効率化を行う際に多く用いられるアルゴリズムであり, ダイクストラ法などの大学の講義において学ぶアルゴリズムとも大きく関係する. 
また, 1次元の動的計画法は配列を利用すれば変化を考えやすく, 初学者が学ぶのに適したアルゴリズムであると考えられる. 

そこで, 本教材では動的計画法を題材とした. 

\subsubsection{動的計画法とは}
動的計画法(以下DP)は, 求めたい問題を複数の部分問題に分け, 部分問題を計算・記録しながら解いていくことにより元の問題の答えを導く手法のことである. 
DPの特徴として, 部分問題への分割, 計算結果の記録という2点がある. 
部分問題への分割により同じ問題が現れた場合, 以前の計算結果を再利用することが可能となり, これにより計算量を減らすことができる. 

動的計画法にはトップダウン方式とボトムアップ方式の2種類の実装方法がある. 

トップダウン方式では, 再帰関数のように元の問題から順により細かい部分問題を解いていく. 
再帰関数に動的計画法を適用した場合, メモ化再帰と呼ばれることもある. 

ボトムアップ方式では, トップダウン方式とは逆に最も細かい部分問題から順に解いていく形式となっている. 

\subsection{利用環境}
本教材では, 構成の都合上テキスト, 問題の両方を参照でき, OJSを利用できる環境が必要となる. 
\ref{subsec:ojs}で述べたように, OJSは自分で環境を作成することもできるが, 自習や課題を目的としている点から, 講義内等の限定的な時間の利用ではなく24時間の運用が必要となり, 維持コストがかかる. 
以上の点から, テキストと問題を利用でき, OJSによる正誤判定が行えるTechFUL\cite{TechFUL}を利用することとした. 

\subsubsection{TechFULとは}

TechFULは, Webサイト上に用意されたプログラミング問題を解くことにより, ITエンジニアのスキルとプログラミング能力の測定や評価, 学習などが行えるプラットフォームである. 
プログラムの判定にはOJSが利用されている. 

教育機関向けの契約を行うことにより授業, テスト, 課題, コンテストが自由に開催できるようになる. 
また, 教材や問題の登録も行えるようになる. 
教材や問題は, テキストかPDFを利用し作成することができる. 
テキストではMarkdownと一部のTeX記法が利用できる. 

本学ではTechFULの教育機関向けシステムが利用可能であったことから, 本教材において利用することとした. 



\subsection{利用する言語}

TechFULで利用できる言語の一覧を表\ref{tab:techful lang}に示す. 
本教材のテキスト中で例として利用する言語は, 大学のプログラミング演習の講義においてほとんどの学生が利用したことがあると考えられるためC言語とした. 

問題の解答や解説に関しては, 学習者の中にもC言語以外を利用する者がいる可能性を考慮し, C++, Python3, Javaについても作成した. 
また, それ以外の言語に関しても模範解答はないが利用できるようにした. 

\begin{table}[H]
    \caption{TechFULで利用できる言語}
    \label{tab:techful lang}
    \centering

    \begin{tabular}{|l||l|}
        \hline
        言語名 & バージョン \\ \hline
        \hline
        PHP7.3 & PHP 7.3.26 \\ \hline
        Java11 & OpenJDK 11.0.5\\ \hline
        C11 & GCC 9.3.0 \\ \hline
        C++17 & GCC 9.3.0\\ \hline
        Python2.7 & 2.7.16 \\ \hline
        Python3 & 3.7.4\\ \hline
        JavaScript & Node.js14.2.0\\ \hline
        Go 1.14& 1.14.2 \\ \hline
        Scala & 2.12.8\\ \hline
        Rust1.39 & 1.39.0\\ \hline
        Ruby2.6 & 2.6.6 \\ \hline
        C\sharp7 & Mono 6.12.0.107 \\ \hline
        Objective-C & Clang 9.0.1 \\ \hline
        Perl5 & 5.30.3 \\ \hline
        Swift & 5.2.3\\ \hline
        Kotlin & 1.3.40 \\ \hline
        Racket / Scheme & 7.8 \\ \hline
        R &  3.6.2 \\ \hline
        SQLite3 & \\ \hline
    \end{tabular}

\end{table}

\clearpage

\subsection{教材の構成}

教材の構成を表\ref{tab:composition}に示す. 
教材はテキストと問題から構成されており, 基本的には前から順に参照する形となっている. 

\begin{table}[H]
    \caption{教材の構成}
    \begin{center}
    \label{tab:composition}
    \begin{tabular}{|c|c|l|} \hline
    
    種類 & 章 & 内容 \\ \hline
    \hline
    テキスト &  & 動的計画法とは  \\ \hline

     & 1章 & 動的計画法の考え方 \\ \hline
    テキスト & 1節 & 導入 例題(線形探索問題)の紹介 \\ \hline
    テキスト & 2節 & 部分問題に分ける \\ \hline
    問題 & & 2数の比較 \\ \hline
    テキスト & & 問題の解説 \\ \hline
    テキスト & 3節 & 計算結果をメモする \\ \hline
    テキスト & 4節 & 問題を解く \\ \hline
    問題 & & 数列内の最大の数の出力 \\ \hline
    テキスト & & 問題の解説 \\ \hline
    テキスト & Ex & 計算結果をメモする意味 \\ \hline

     & 2章 & 数式をプログラミングする \\ \hline
    テキスト & 1節 & 導入 例題(フィボナッチ数列)の紹介 \\ \hline
    テキスト & 2節 & 計算量を考える \\ \hline
    テキスト & 3節 & 漸化式をプログラミングする \\ \hline
    問題 & & フィボナッチ数列 \\ \hline
    テキスト & & 問題の解説 \\ \hline
    問題 & & トリボナッチ数列 \\ \hline
    テキスト & & 問題の解説 \\ \hline
    \end{tabular}
    \end{center}
\end{table}

\subsubsection{導入 動的計画法とは}
この章では, アルゴリズムとは何か, アルゴリズムを知ることの意味, DPの説明の3つについて説明を行った. 

本教材におけるDPは, 以下の3つのステップを利用し考えていく形式とした. 

\begin{enumerate}
    \item (部分問題に)分ける
    \item (計算結果を)メモる
    \item (メモを元に)求める
\end{enumerate}

\subsubsection{1章 動的計画法の考え方}
この章では, DPを利用して例題を解くことにより, 各ステップにおける考え方を順を追って説明した. 

利用した例題は以下の問題である. 
線形探索問題と呼ばれる問題だが, 前から順に最大値を更新していく手順は動的計画法の考え方と同じであるため, 例題として利用した. 

\begin{itembox}[l]{例題1}
    \textbf{問題文}
    
    長さ $N$ の整数列 $A = {A_0, A_1, ..., A_{N-1}}$が与えられます. 

    $A$ に含まれる最大の数を求めなさい. 
    \\
    
    \textbf{制約}

    ・2 $\leq$ $N$ $\leq$ $10^5$
    
    ・$-10^6$ $\leq$ $A_i$ $\leq$ $10^6$
    \\
    
    \textbf{入力}
    
    入力は以下の形式で標準入力から与えられる. 
    
    $N$ \\
    $A_0 A_1 ... A_{N-1}$
    
    \textbf{出力}
    
    $A$ に含まれる最大の数を1行で出力せよ. 
\end{itembox}

教材における流れは, はじめにこの問題を部分問題に分割した. 
この問題では数列内の最大の数を求めるが, コンピュータにおいて大量の数から1度に1つの数を見つけ出すことはできない. 
そこで, 2つの数を比較することを繰り返し行い, 最終的に全ての要素について比較を行う, という手順を部分問題として紹介した. 

次に, 動的計画法の主要な考え方である計算結果のメモ化について説明した. 
本教材では計算の流れがわかりやすいように配列にメモを残す形式を利用し, メモを残す配列の宣言やどのような手順でメモが更新されるのかについて紹介した. 

最後に, 具体的な数値を用いてどのようにメモ配列が更新されていくのかを確認した. 
また, 練習問題として2数の比較を行うこと, 配列内の最大値を求めることを扱った. 

\clearpage

\subsubsection{2章 数式をプログラミングする}
この章では, 漸化式のプログラミングを例にDPの利用について説明した. 

例題として, フィボナッチ数列を取り扱った. フィボナッチ数列は以下のような漸化式で表される数列である. 

\begin{itemize}
    \item $F_0 = 0$
    \item $F_1 = 1$
    \item $F_{n+2} = F_n + F_{n+1}(n \geq 0)$
\end{itemize}

はじめに再帰関数による実装を紹介し, その計算量を確認した. 
その後, メモ化を行うことによる計算量の効率化について紹介した. 
本教材では, ボトムアップ方式によるDPの方がより初心者が理解しやすいと考え, 再帰関数による実装及びそのメモ化については紹介程度に留めた. 

次に, 漸化式を変形することにより部分問題として見ることができることを確認した. 
そして, その部分問題を基に問題を解く形式とした. 
練習問題として, フィボナッチ数列とトリボナッチ数列を取り扱った. 

\subsection{実際の運用形式}

TechFULにおいて, 教材を運用する際の実際の構成について作成した. 
TechFULでは, 言語を指定した穴埋め形式の問題を作成できる. 
そのため, C言語に関しては入出力など最低限の部分を実装したファイルに対し穴埋め形式の問題を作成することにより, よりアルゴリズム学習のみに集中できるようにした. 

\clearpage

\subsubsection{C言語版セクション}

C言語版セクションの構成を表\ref{tab:composition c}に示す. 
教材の内容に追加して, 教材の説明, 入出力方法の説明, アルゴリズム学習に役立つ本やWebサイト等の紹介した. 
また, 問題は全て穴埋め形式とし, 主に入力部分のみ予め実装された形式とした. 
TechFULでは穴埋め形式問題について, 特定の行を変更禁止にできる機能があるが, 本教材では全ての行について変更を行えるようにした. 
そのため, 学習者が変数名を変更したり, main関数の前に別の関数を追加したりすることも可能である. 

例として, 問題「大きい数」で利用したコードを図\ref{code:ookii c}に示す. 
この問題では2つの変数$X, Y$が与えられるため, 予めその部分の入力のみを実装した. 


\begin{table}[H]
    \caption{C言語版セクションにおける教材の構成}
    \begin{center}
    \label{tab:composition c}
    \begin{tabular}{|c|l|l|} \hline
    
    種類 & タイトル & 内容 \\ \hline
    \hline
    テキスト & はじめに & 教材の説明\\ \hline
    テキスト & C言語入出力チートシート & 主要な入出力の方法一覧 \\ \hline
    テキスト & 導入 & 動的計画法とは \\ \hline
    テキスト & 1.動的計画法の考え方1 & 導入 例題(線形探索問題)の紹介 \\ \hline
    テキスト & 1.動的計画法の考え方2 & 部分問題に分ける \\ \hline
    問題 & 大きい数 & 2数の比較 \\ \hline
    テキスト & 大きい数 解説 & 問題の解説 \\ \hline
    テキスト & 1.動的計画法の考え方3 & 計算結果をメモする \\ \hline
    テキスト & 1.動的計画法の考え方4 & 問題を解く \\ \hline
    問題 & 最大の数 & 数列内の最大の数の出力 \\ \hline
    テキスト & 最大の数 解説 & 問題の解説 \\ \hline
    テキスト & 1.動的計画法の考え方Ex & 計算結果をメモする意味 \\ \hline
    テキスト & 2.数式をプログラミングする1 & 導入 例題(フィボナッチ数列)の紹介 \\ \hline
    テキスト & 2.数式をプログラミングする2 & 計算量を考える \\ \hline
    テキスト & 2.数式をプログラミングする3 & 漸化式をプログラミングする \\ \hline
    問題 & フィボナッチ数列 & フィボナッチ数列 \\ \hline
    テキスト & フィボナッチ数列 解説 & 問題の解説 \\ \hline
    問題 & トリボナッチ数列 & トリボナッチ数列 \\ \hline
    テキスト & トリボナッチ数列 解説& 問題の解説 \\ \hline
    テキスト & さいごに & 他のアルゴリズム学習サイト等の紹介 \\ \hline
    \end{tabular}
    \end{center}
\end{table}

\begin{figure}[H]
    \centering
\begin{lstlisting}[style = customC]
/* CやC++などシェルに実行結果コード返却を明示する言語を利用する場合 基本的に0を返却してください.  */
#include <stdio.h>

int main(void)
{
    /* 入力 */
    int x, y;
    scanf("%d %d", &x, &y);


    return 0;
}
\end{lstlisting}

\caption{問題「大きい数」におけるC言語のコード}
    \label{code:ookii c}
\end{figure}

\subsubsection{他言語版セクション}

他言語版セクションの構成を表\ref{tab:composition other}に示す. 
C言語版セクションとは異なり, 利用する言語が不明であることから入出力の説明を行っていない. 
また, 問題の形式も通常のものとなっている. 
それ以外の部分はC言語と共通のものであり, 教材中の例として利用しているコードはC言語である. 

\begin{table}[H]
    \caption{他言語版セクションにおける教材の構成}
    \begin{center}
    \label{tab:composition other}
    \begin{tabular}{|c|l|l|} \hline
    
    種類 & タイトル & 内容 \\ \hline
    \hline
    テキスト & はじめに & 教材の説明\\ \hline

    テキスト & 導入 & 動的計画法とは \\ \hline
    テキスト & 1.動的計画法の考え方1 & 導入 例題(線形探索問題)の紹介 \\ \hline
    テキスト & 1.動的計画法の考え方2 & 部分問題に分ける \\ \hline
    問題 & 大きい数 & 2数の比較 \\ \hline
    テキスト & 大きい数 解説 & 問題の解説 \\ \hline
    テキスト & 1.動的計画法の考え方3 & 計算結果をメモする \\ \hline
    テキスト & 1.動的計画法の考え方4 & 問題を解く \\ \hline
    問題 & 最大の数 & 数列内の最大の数の出力 \\ \hline
    テキスト & 最大の数 解説 & 問題の解説 \\ \hline
    テキスト & 1.動的計画法の考え方Ex & 計算結果をメモする意味 \\ \hline
    テキスト & 2.数式をプログラミングする1 & 導入 例題(フィボナッチ数列)の紹介 \\ \hline
    テキスト & 2.数式をプログラミングする2 & 計算量を考える \\ \hline
    テキスト & 2.数式をプログラミングする3 & 漸化式をプログラミングする \\ \hline
    問題 & フィボナッチ数列 & フィボナッチ数列 \\ \hline
    テキスト & フィボナッチ数列 解説 & 問題の解説 \\ \hline
    問題 & トリボナッチ数列 & トリボナッチ数列 \\ \hline
    テキスト & トリボナッチ数列 解説& 問題の解説 \\ \hline
    テキスト & さいごに & 他のアルゴリズム学習サイト等の紹介 \\ \hline
    \end{tabular}
    \end{center}
\end{table}

% これ２つに章分けしてもいいかもなぁ
% 問題のキャプションってどうするのがええんやろか

% スタートとゴールについて含めて
% コンテストサイトの説明もあっていい
% 文字で内容は入れていい
% 表示内容は1, 2枚入れておけばok